{% extends 'ecommerce/base.html' %}
{% load static %}
{% load humanize %}
{% block content %}
<div class="main-container container">
    <div class="row">
        <aside class="col-sm-4 col-md-3 content-aside" id="column-left" style="margin-top: 15px">
            <div class="module banner-left hidden-xs ">
                <div class="banner-sidebar banners">
                    <div>
                        <a title="Banner Image" href="#">
                        <img src="{% static 'ecommerce/image/catalog/banners/home/banner-8.jpeg' %}" alt="Banner Image">
                        </a>
                    </div>
                </div>
            </div>

        </aside>
        <div id="content" class="col-md-9 col-sm-8">
            <ul class="breadcrumb" style="padding-left: 9px">
                <li><a href="{% url 'e_commerce:index' %}">Accueil</a></li>
                <li><a href="#"><b>Toutes les cat√©gories</b></a></li>
            </ul>
            {% for category in categories_2 %}
            <div class="col-md-12 col-sm-8">
                <div class="submit-comment module">
                    <h3 class="modtitle2" style="margin-bottom: 0; margin-left: -6px">
                        <a id="category{{ category.category.pk }}" href="{% url 'e_commerce:products' 'category' category.category.pk %}" class="clearfix"><span>{{ category.category.name }} ({{ category.number }})</span></a>
                    </h3>
                    <div class="row">
                        {% if category.category_one %}
                            {% for category_one in category.category_one %}
                                {% if category.category.name != category_one.category_one.name %}
                                    <div class="col-md-12 col-sm-8" style="padding: 10px; padding-top: 0">
                                        <div class="submit-comment module" style="margin-bottom: 0">
                                            <h2><u><a id="category_one{{ category_one.category_one.pk }}" href="{% url 'e_commerce:products' 'category_one' category_one.category_one.pk %}" class="clearfix"><span style="font-size: 15px; font-weight: 700;">{{ category_one.category_one.name }} ({{ category_one.number }})</span></a></u></h2>
                                            <div class="row">
                                                {% if category_one.category_two %}
                                                    {% for category_two in category_one.category_two %}
                                                        {% if category_two.category_two.name != category_one.category_one.name %}
                                                            <div class="col-md-6 col-sm-8">
                                                                <div>
                                                                    <h4>
                                                                        <a href="{% url 'e_commerce:products' 'category_two' category_two.category_two.pk %}" class="clearfix"><span>{{ category_two.category_two.name }} ({{ category_two.number }})</span></a>
                                                                    </h4>
                                                                    {% if category_two.sub_category %}
                                                                        {% for sub_category in category_two.sub_category %}
                                                                            {% if sub_category.sub_category.name != category_two.category_two.name %}
                                                                                <div class="col-md-6 col-sm-8">
                                                                                    <div class="module">
                                                                                        <a href="{% url 'e_commerce:products' 'sub_category' sub_category.sub_category.pk %}" class="clearfix"><span>{{ sub_category.sub_category.name }} ({{ sub_category.number }})</span></a>
                                                                                    </div>
                                                                                </div>
                                                                            {% endif %}
                                                                        {% endfor %}
                                                                    {% endif %}
                                                                </div>
                                                            </div>
                                                        {% endif %}
                                                    {% endfor %}
                                                {% endif %}
                                            </div>
                                        </div>
                                    </div>
                                {% endif %}
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
    <script>
        $(document).ready(function() {
            $('#column-left').scrollToFixed({
                marginTop: 20,
                limit: function() {
                    var limit = $('#footer-scroll').offset().top - $('#column-left').outerHeight(true) - 30;
                    return limit;
                },
                zIndex: 1
            });
        });
    </script>
{% endblock %}
